##  脚本和任务

在「DevOps平台」中点击上方导航栏中「脚本和任务」标签，展开相应功能列表。

## 脚本列表

脚本列表页面会显示出该用户保存在FIT2CLOUD系统中的全部脚本，列表中显示信息包括：

* 脚本名 ：脚本在系统中保持的名字。
*  系统脚本 ： 表示该脚本是否为FIT2CLOUD系统自带脚本。如果为系统自带脚本则无法编辑和删除。
* 平台 : 脚本对应的操作系统平台。包括：Linux，Windows，AIX
*  脚本类型 ： 脚本的类型。包括：shell，perl，python，ruby，others。
*  创建时间 ：脚本的创建时间。
*  备注 ： 脚本的备注信息，可以直接点击本列进行修改。
*  操作 ： 可以进行的操作，包括：执行脚本和查看脚本。

* **新建脚本：**
在脚本列表页面，点击「新建」会弹出新建脚本页面。新建脚本需要填入以下信息：

  *  脚本名 ：脚本在系统中保持的名字。
  *  平台 : 脚本对应的操作系统平台。包括：Linux，Windows，AIX
  *  脚本类型 ： 脚本的类型。包括：shell，perl，python，ruby，others。
  *  备注 ： 脚本的备注信息。
  *  脚本内容 ： 在此填入脚本的内容。

* **修改脚本：**
在脚本列表页面，选择一条脚本信息，点击「修改」会弹出新修改本页面。可以修改的内容包括：脚本名，备注，脚本内容。

* **删除脚本：**
在脚本列表页面，选择一条脚本信息，点击「删除」可以删除对应的脚本。

##  执行脚本

在FIT2CLOUD系统中，有两处入口可以执行脚本：

*  通过「脚本」功能中的「执行脚本」来执行，流程如下：

   *   点击顶部导航栏的「脚本和任务」下拉菜单的「执行脚本」，进入执行脚本页面。
   *   选择执行脚本的目标范围，包括：目标集群，目标虚机组，目标主机。
   *  选择脚本的平台信息，包括：脚本的平台，脚本解释器。
   *  编辑想要执行的脚本，可以通过选择目标脚本从已保存的脚本选择。也可以在下方的脚本编辑区内直接输入脚本内容。
   *  点击执行，即可将对应脚本在目标范围内执行。

*  通过「主机列表」中每条主机信息最后的「操作」，选择其中的「执行脚本」，后续的执行流程和第一种方式相同，请参考前面的介绍。

##  定时执行

用户点击顶部导航栏的「腳本和任务」下拉菜单中的「定时任务」，可以进入定时执行脚本页面。

* **新建定时脚本：**
点击「新建」打开新建定时脚本页面。新建定时脚本信息包括：

    *  名称 ：定时脚本的名称。
    *  备注 ：备注信息。
    *  脚本 ：需要执行哪个脚本。
    *  执行策略 ：包括循环执行，执行一次，自定义执行策略。
    *  执行时间 ：执行脚本的时间。
    *  目标集群/目标主机组/目标主机 ：执行脚本的目标范围。
    *  通知组设置：可以选择无或者默认。  

* **修改定时脚本：**
选择一条定时脚本，点击「执行」可以修改定时脚本信息，修改定时脚本时不能修改名称，其他信息都可以修改，具体信息与新建定时脚本相同。

* **删除定时脚本：**
选择一条脚本信息，点击「删除」可以删除定时脚本信息。

* **开始／停止定时脚本：**
选择一条脚本信息，如果定时脚本任务状态是停止，可以点击「开始」，启动定时脚本任务。如果定时脚本任务状态为非停止状态，可以点击「停止」，停止定时脚本任务。

##  触发执行

脚本可以由告警来触发执行。

* 点击顶部导航的「监控告警」下拉菜单中的「告警设置」。

*  点击「新建」新建一个告警设置。

*  新建告警中的触发警告执行脚本、触发错误执行脚本、解除警告执行脚本、解除错误执行脚本，可以设置对应告警信息触发时自动执行的脚本。

**关于告警的具体设置方法，请参考监控告警。**